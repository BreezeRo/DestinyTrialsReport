<div class="last-match">
  <div class="last-match__overview">
    <div class="last-match__standing">
      <span class="last-match__result last-match__result--win" ng-if="player.allStats.standing.basic.value === 0"></span>
      <span class="last-match__result last-match__result--loss" ng-if="player.allStats.standing.basic.value === 1"></span>
      <span class="last-match__score">
        <span class="last-match__score--team" ng-bind="player.allStats.score.basic.value"></span>
        -
        <span class="last-match__score--opponents" ng-bind="player.allStats.allParticipantsScore.basic.value - player.allStats.score.basic.value"></span>
      </span>
    </div>
    <div class="row">
      <div class="col-xs-6 stat">
        <span ng-bind="player.pastActivities[player.pastActivities.length - 1].dateAgo"></span>
        <label>Date</label>
      </div>
      <div class="col-xs-6 stat">
        <span ng-bind="player.allStats.totalActivityDurationSeconds.basic.displayValue"></span>
        <label>Duration</label>
      </div>
    </div>
  </div>
  <div class="last-match__details">
    <div class="last-match__stats">
      <div class="row">
        <div class="col-xs-3 stat">
          <span ng-bind="player.allStats.kills.basic.displayValue"></span>
          <label>Kills</label>
        </div>
        <div class="col-xs-3 stat">
          <span ng-bind="player.allStats.deaths.basic.displayValue"></span>
          <label>Deaths</label>
        </div>
        <div class="col-xs-3 stat">
          <span ng-bind="player.allStats.assists.basic.displayValue"></span>
          <label>Assists</label>
        </div>
        <div class="col-xs-3 stat">
          <span ng-bind="player.allStats.precisionKills.basic.displayValue"></span>
          <label>Headshots</label>
        </div>
      </div>
      <div class="row">
        <div class="col-xs-3 stat">
          <span ng-bind="player.allStats.killsDeathsAssists.basic.displayValue"></span>
          <label>KA/D</label>
        </div>
        <div class="col-xs-3 stat">
          <span ng-bind="player.allStats.killsDeathsRatio.basic.displayValue"></span>
          <label>K/D</label>
        </div>
        <div class="col-xs-3 stat">
          <span ng-bind="player.allStats.resurrectionsPerformed.basic.displayValue"></span>
          <label>Revives</label>
        </div>
        <div class="col-xs-3 stat">
          <span ng-bind="player.allStats.averageLifespan.basic.displayValue"></span>
          <label>Lifespan</label>
        </div>
      </div>
    </div>
    <div class="last-match__weapons">
      <div class="row">
        <div class="last-match-weapon col-xs-12" ng-repeat="weapon in player.playerWeapons track by $index">
          <div class="row">
            <div class="col-xs-6 last-weapon-weapon__descr">
              <img class="last-match-weapon__img img-responsive" ng-src="{{getWeaponByHash(weapon.referenceId).icon}}">
              <span class="last-match-weapon__title" ng-bind="getWeaponByHash(weapon.referenceId).name"></span>
            </div>
            <div class="col-xs-2 stat">
              <span ng-bind="weapon.values.uniqueWeaponKills.basic.value"></span>
              <label>Kills</label>
            </div>
            <div class="col-xs-4 stat">
              <span ng-bind="weapon.values.uniqueWeaponPrecisionKills.basic.value"></span>
              <label>Headshots</label>
            </div>
          </div>
        </div>
        <div class="last-match-weapon last-match-weapon--{{specialWeapon.id}} col-xs-12" ng-repeat="specialWeapon in player.wKills track by $index"
             ng-if="getWeaponTitle(specialWeapon.id)">
          <div class="row">
            <div class="col-xs-6 last-weapon-weapon__descr">
              <span class="last-match-weapon__img" style="background-image: url({{player.classNodes.abilities[specialWeapon.id].icon}});"></span>
              <span class="last-match-weapon__title" ng-bind="player.classNodes.abilities[specialWeapon.id].name"></span>
            </div>
            <div class="col-xs-2 stat">
              <span ng-bind="specialWeapon.count"></span>
              <label>Kills</label>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="last-match__medals">
    <div class="row">
      <div class="col-xs-2" ng-repeat="medal in player.medals track by $index"
           bs-popover="{title:DestinyMedalDefinition[medal.id].statName,content:DestinyMedalDefinition[medal.id].statDescription}">
        <img class="img-responsive" ng-src="{{'https://www.bungie.net' + DestinyMedalDefinition[medal.id].iconImage}}">
      </div>
    </div>
  </div>
</div>
